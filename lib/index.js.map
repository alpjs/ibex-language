{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;kBAAwB,YAAY;AAArB,SAAS,YAAY,CAAC,GAAG,EAAE;AACtC,QAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC;AAClC,QAAM,kBAAkB,GAAG,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AAC5D,QAAI,CAAC,kBAAkB,EAAE;AACrB,cAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;KAC1D;;AAED,QAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,UAAA,QAAQ,EAAI;AACtC,YAAM,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;AAC/C,YAAI,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;AACtC,eAAG,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;AACzB,mBAAO,IAAI,CAAC;SACf;KACJ,CAAC,EAAE;AACA,WAAG,CAAC,OAAO,CAAC,QAAQ,GAAG,kBAAkB,CAAC,CAAC,CAAC,CAAC;KAChD;CACJ","file":"index.js","sourcesContent":["export default function ibexLanguage(app) {\n    const config = app.context.config;\n    const availableLanguages = config.get('availableLanguages');\n    if (!availableLanguages) {\n        throw new Error('Missing config \"availableLanguages\"');\n    }\n\n    if (!navigator.languages.some(language => {\n        const l = language.split('-')[0].toLowerCase();\n        if (availableLanguages.indexOf(l) !== -1) {\n            app.context.language = l;\n            return true;\n        }\n    })) {\n        app.context.language = availableLanguages[0];\n    }\n}\n"]}